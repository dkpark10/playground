(function(){"use strict";const o="MSW_ACTIVATE",r="SAVE_DATA",c="MSW_LOAD_REWARD_DATA",t=document.createElement("script");t.id="injected",t.src=chrome.runtime.getURL("injected.js"),(document.head||document.documentElement).appendChild(t),t.onload=()=>{chrome.storage.local.get(["rewardData"],e=>{e.rewardData&&(console.log("초기 리워드 데이터",e.rewardData),window.postMessage({type:c,payload:e.rewardData},"*")),window.dispatchEvent(new CustomEvent(o))})};const d=e=>e===null?!0:Array.isArray(e)?e.length===0:typeof e=="object"?Object.keys(e).length===0:!1;window.addEventListener("message",e=>{var n;if(((n=e.data)==null?void 0:n.type)===r){const a=JSON.parse(e.data.payload);console.log("저장될 리워드 데이터",a),d(a)||chrome.storage.local.set({rewardData:a})}})})();
